{% extends 'base.html' %}
{% load static %}

{% block title %}
{{ title }}
{% endblock %}
{% block content %}

<!-- Menu -->
<section id="menu">

    <!-- Search -->
    <section>
        <form class="search" method="get" action="#">
            <input type="text" name="query" placeholder="Поиск по названию книги"/>
        </form>
    </section>

    <!-- Links -->
    <section>
        <ul class="links">
            <li>
                <a href="#">
                    <h3>2023</h3>
                    <p>Книги, прочитанные за 2023 год</p>
                </a>
            </li>
            <li>
                <a href="#">
                    <h3>2022</h3>
                    <p>Книги, прочитанные за 2022 год</p>
                </a>
            </li>
            <li>
                <a href="#">
                    <h3>2021</h3>
                    <p>Книги, прочитанные за 2021 год</p>
                </a>
            </li>
            <li>
                <a href="#">
                    <h3>2020</h3>
                    <p>Книги, прочитанные за 2020 год</p>
                </a>
            </li>
        </ul>
    </section>

    <!-- Actions -->
    <section>
        <ul class="actions vertical">
            <li><a href="#" class="button big fit">Авторизация</a></li>
        </ul>
    </section>

</section>

<div id="main">
    <h2>Всего книг прочитано - <span style="font-family: Roboto, sans-serif;">{{ cnt_all }}</span></h2>
    <h3>Из категории "{{ title }}" - <span style="font-family: Roboto, sans-serif;">{{ cnt }}</span></h3>
    {% for book in books %}

    <article class="post">
        <header>
            <div class="title">
                <h2><a href="#">{{ book.title }}</a></h2>
                <p style="text-transform: none">{{ book.author }}</p>
                <p style="font-family: Roboto, sans-serif; text-transform: none">Дата прочтения: {{ book.date_of_reading }}</p>
                <p style="font-family: Roboto, sans-serif; text-transform: none">Категория: {{ book.category }}</p>
            </div>
            <div class="meta" style="display:flex; justify-content: center; align-content: center;">
                {% if book.photo %}
                <img src="{{ book.photo.url }}" width="200" alt="{{ book.title }}">
                {% else %}
                <img src="{% static 'BookApp/images/book.jpg' %}" width="200" alt="{{ book.title }}">
                {% endif %}
            </div>
        </header>
        <p>{{ book.feedback }}</p>
        <footer>
            <ul class="actions" style="margin-bottom: 0;">
                <li><a href="#" class="button big">Подробнее</a></li>
            </ul>
            <ul class="stats" style="margin-bottom: 0;">
                <li>Ваша оценка</li>
                <li>{{ book.estimation }} / 10</li>
            </ul>
        </footer>
    </article>
    {% empty %}
    <h1 style="text-transform: none">Вы ещё не добавили ни одной книги.</h1>
    {% endfor %}

    <!-- Pagination -->
    <ul class="actions pagination">
        <li><a href="" class="disabled button big previous">Previous Page</a></li>
        <li><a href="#" class="button big next">Next Page</a></li>
    </ul>

</div>
{% endblock %}
